# flow-rate-meter
An ultrasound sensor to measure flow speed, rate and thrust based on the hobbyist module HC-SR04 and Arduino.

Measuring the flow of a gas at a low rate is not an easy task and sensors used for liquids are not a viable way, because the impeller inertia and the resistence it adds are no longer negligible. Professional sensors for this purpose beam the gas flow with an ultrasound wave and measure variations in travel times. I just have been wondering if i could apply this principle to a system based on hobbyist sensors (HC-SR04).

The pivotal idea of an ultrasonic flowrate meter is to use two sets of transmitter-receiver modules to generate a wave and measure its speed with and against the air flow, being the flow speed the average of them. The two trains of wave would be intermitting and alternate not to interfere with one another. This kind of calculus allows me to do without the speed of sound, because it depends on the pressure of the gas which is variable over time.

As for now, I'm stuck in a point where the device has low sensibility and might false reading. I think sensibility can be improved by replacing crystal from 40hz to say 100hz or higher. As for false readings, I think it may depend on digitalRead function which sometimes might read floating pins (I've to check wether the issue can be overturn with pull-up or pull-down resistors as explained here: https://forum.arduino.cc/index.php?topic=55119.0 or can be fixed by software as explained here: https://forum.arduino.cc/index.php?topic=573246.0). For, I think that the project is at a stage advanced enought to be shared. Tips for fixing issues and improving its design or functioning are all welcome.

As for housing, the main body might result in a nightmare to 3D print if you are not experienced enough. I'm providing three verions of it. The threaded one is fine if you have a SLA 3d printer. The nonthreaded version is for those with FDM printers. Alternatively, you can print the half version twice and seam the two halves with hot glue (which is also needed to seal the device). In any case you'll need to enable supports in your slicer. CAD files are also included in case you need to adjust tolerances.
